name: React Native Android Build
run-name: ${{ github.actor }} is building android build using GitHub Actions ðŸš€
on:
  push:
    branches:
      - development
jobs:
  build-android:
    runs-on: ubuntu-latest
    steps:
      - name: Build Android Release
        uses: actions/checkout@v3
      - name: Set up bun
        uses: oven-sh/setup-bun@v1
      - run: git config --global url."https://github.com/Entropy-Foundation/supra-l1-sdk.git@github.com/".insteadOf ssh://git@github.com/ && bun install
      - run: cd android && ./gradlew clean && ./gradlew assembleRelease
      - name: Upload Artifact
        uses: actions/upload-artifact@v1
        with:
          name: app-release.apk
          path: android/app/build/outputs/apk/release/app-release.apk
      - name: Upload app-release.apk to Google Drive
        uses: adityak74/google-drive-upload-git-action@main
        with:
          filename: android/app/build/outputs/apk/release/app-release.apk
          credentials: 'ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiZ2l0aHViYWN0aW9uLWdkcml2ZSIsCiAgInByaXZhdGVfa2V5X2lkIjogIjBiNjUxMGRjNTg4YzA0NTRlZmEzM2RiNjZlNWQ5MmI4OTFlZTFiNDMiLAogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRRFNJUzV2dnd2WThzQ0pcblBUV0xnODdPcUgzeEdUbDRZMldNSVA5em1aaWZZeUV6RmMyeXkwU2JDZFZmVTZHVG1QZ3NuODd4T0ttc2dyY0FcbnFoblJLbGNpODFOWTVvZUMrOWZQVFpZekw0NUNiRXRkYUdRTVZ3cEZJNnd5TkFCQ1JObUdDRzRtY05wdW16QTdcbmI2NUIxcy9UL3VjbFd6L3dKcEdYcGZ2SnJPUWttZnpGK2oxSnJNVTQrak9BWDZ3eE5DNWhyaUFhUThKQlBHam5cbjBaK2p2VzBpODBjRG03L2RSazQ3RnMxcG5EcXJpTVI4ZHpqVjFZRGJHcTdLODdVNmloNElYVEs5clBpVjNCdjZcbno0M3ZvNzdCVkNYK0RLR3E0bXFDMDgwSzNBc0pVUGgvWHNrQTlDSDdQRlV2MGpVOGlubDhsbGlnOFJsR0lVTUhcbm1Gc1J5Y0N2QWdNQkFBRUNnZ0VBQVhUa2JXb1VIajc2OGJJem9GSGJzQXMvOXFYSzBPVWdTNVN0eHd4RWJPRFRcbkkyUTN6UjNKemc5VDVBWmdmTnU5Z0t3V2huUW1BQ2dKejdoRWl2S0xTa29JaE1hTGhpS2UvTnRrN2RvYkNuTUlcbnV4dnVjWjEwY25oeXZBaGJQN1B6NE4zZ3NaaUdFeHVic09LVnpmUUl3UHJCZVR6clpRdXR6SDJlS2s2aE5RanZcbkE0clZQbGxsekNWZElNaS9XMTNQU21GMVFIUllVR1pweTIrRGV2OG9YU01IeHNyeWx3RENPRXN0V1pIMXdUMUVcbllEUEN0U1ZxdjN3bytJNTJQTExuVUpRQnhSWWVpdkNtbXVKSU5JbjJoRjBGMjV5MnJEYVk4cWhjL3djZXBoR05cblpwVXRGcmdJdkhhRTQ0Q01pYUtzblJlNXZQd0QwNzZ2QXhoZGZ6L0VuUUtCZ1FEeWZJM0dXcEk1SVhTdUxXU2pcbjVheGJqWUc2endvS0R0eEtDa0pMSENlZXZYMm8weENCNTBMd3MraUZCazhMVWdHLzRiczJPVzFnVUdLRmwwL0dcbitkSnE2QXZreHEzNEpHVmlCcHNMRWhrVlgwZ1lNeG02Ukt0RVl6VUx3NmhlODdFaVRwSjVheUJqcFFnOVZVMTdcbnJPM2VxN2JxUjdXbFdvb0FNaHoxVDBZVEZRS0JnUURkMXdHRStheWpPakxzKzE2VW1ZblI3cjVUTXNWdUVoSS9cblM3aG1qbE5rTGNuYXNtc0U5bExyVlNTdHZGUmlQQXMxSTdPcU1YOENPV2F6KzhkU2hibFRnb1l3eDNGRGxGa3NcbllkQmg4ZWJ1bjNKUlpMN0p6TmlyeitERWNGUWtybFZiMVlZQWFteWx4UU45Y1FKZEo3SGdweGhUMjdXNkN2alRcbjhyMmRGbjhGc3dLQmdRQ3dwaG9tV1E3Uy9kTmhuQUlJQUNZcTRCQ1ZCWVQ3eE0yb1JvYjY3cnpTUUpzTlpRMU9cbmhTblg3a2hDdUZEWEgxdlU3RjRVNTRzTnNpSER6bkk0c3dBZUQ0T3lteVpiY2pCRlZDaVl6UXRtN1cyNDYya2ZcbnNDelFlakZIcTdhNXpXL0tYVkVKa1FnY2J6cHNhL3N4VU01TSsrMGFDVG1FQjB3blRscVlQckwrN1FLQmdRRGJcbnhZdHR6MlBtZVZ2R1J1bFdVaDJsYXQ0RzBuK2hJaW9OcHRoU1VhSHYxeVRva21WUGp6QnFqL2s4WFIxRURMUVZcbnV2N2RGeGY2Zmg5dkkzbytHTmlYRVBJY0ZSbnlsMThZaHZiSWNid1Vuc1hFT1FpQ0ozeG9DaE5reU51elV6cWhcbk5oSUJDMjREZEFDWEg0UDJBY05KQ29FaFlzTFFRdHBzTDBrRi9TbHQzUUtCZ0hHTG9ZTHdKTDB3aVRXTlFPblpcbmpxU1ZhbHVna1V0cDVwdERDK0UyelpPb21SMDZOWWoyMTNJYXVJdCsyOURYNUZkN0FTanhKRU5FRi95V1FiRkRcbjBzMkF0czF2NEZrcExZZkpudDRxRlZHMDFyVVh0WUY4eGNSaHJoZ1Nxb2drUjh2VlBvNjJkTmRGYmZRcEd5djhcbkhxVGxBWm9ES2RNeDdZaUlxWXFxazFJcFxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwKICAiY2xpZW50X2VtYWlsIjogImdvb2dsZWRyaXZlQGdpdGh1YmFjdGlvbi1nZHJpdmUuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTA5MTI5MDg4Mzc2MTIxOTA5MTUwIiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9nb29nbGVkcml2ZSU0MGdpdGh1YmFjdGlvbi1nZHJpdmUuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K'
          folderId: '1NPoKRtf9PX6FgTvtW67705hRSUlCje8L'
          overwrite: true
